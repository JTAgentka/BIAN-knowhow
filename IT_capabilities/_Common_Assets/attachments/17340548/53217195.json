{
    "description": "Card Reservation",
    "definitions": {
        "MERCHANT": {
            "description": "Merchant",
            "type": "object",
            "properties": {
                "NAME": {
                    "description": "Name",
                    "type": [
                        "string",
                        "null"
                    ],
                    "minLength": 0,
                    "maxLength": 22
                },
                "CITY": {
                    "description": "City",
                    "type": [
                        "string",
                        "null"
                    ],
                    "minLength": 0,
                    "maxLength": 13
                },
                "COUNTRY": {
                    "description": "Country",
                    "type": [
                        "string",
                        "null"
                    ],
                    "minLength": 0,
                    "maxLength": 3
                }
            }
        },
        "XRATE": {
            "type": [
                "array",
                "null"
            ],
            "title": "XRATE",
            "description": "Used xrates",
            "items": {
                "type": "object",
                "properties": {
                    "CURRENCY": {
                        "type": [
                            "string",
                            "null"
                        ],
                        "minLength": 3,
                        "maxLength": 3,
                        "title": "CURRENCY",
                        "description": "exchange rate currency"
                    },
                    "EXCHANGE_RATE": {
                        "type": "number",
                        "title": "EXCHANGE_RATE",
                        "description": "exchange rate"
                    },
                    "QUOTATION_UNIT": {
                        "type": [
                            "number",
                            "null"
                        ],
                        "title": "QUOTATION_UNIT",
                        "description": "quotation unit"
                    }
                }
            },
            "required": [
                "EXCHANGE_RATE"
            ]
        }
    },
    "type": "object",
    "properties": {
        "X-Correlation-ID": {
            "type": [
                "string",
                "null"
            ],
            "title": "X-Correlation-ID",
            "description": "Correlation identifier"
        },
        "RES_ID": {
            "description": "BISQ reservation internal ID",
            "type": "string",
            "minLength": 20,
            "maxLength": 20
        },
        "EVENT_TIMESTAMP": {
            "description": "Date and time of inserting into event table in BISQ",
            "type": [
                "string",
                "null"
            ],
            "format": "date-time"
        },
        "ACT_ID": {
            "description": "BISQ activity internal ID",
            "type": "string",
            "minLength": 20,
            "maxLength": 20
        },
        "STATE": {
            "description": "BISQ reservation state (A)Authorised, (O)Opened, (C)Closed, (X)Deleted",
            "type": "string",
            "enum": [
                "A",
                "O",
                "C",
                "X"
            ]
        },
        "MERCHANT": {
            "$ref": "#/definitions/MERCHANT"
        },
        "PC_ID": {
            "description": "BISQ product contract internal ID",
            "type": "string",
            "minLength": 20,
            "maxLength": 20
        },
        "PR_NUMBER": {
            "description": "BISQ product number",
            "type": "string",
            "minLength": 1,
            "maxLength": 35
        },
        "CRD_ID": {
            "description": "BISQ card PC internal ID",
            "type": "string",
            "minLength": 20,
            "maxLength": 20
        },
        "CRD_NUMBER": {
            "description": "BISQ card number",
            "type": "string",
            "minLength": 16,
            "maxLength": 19
        },
        "ACC_AMOUNT": {
            "description": "Reservation amount",
            "type": "number"
        },
        "ACC_CURRENCY": {
            "description": "Account currency",
            "type": "string",
            "minLength": 3,
            "maxLength": 3
        },
        "RES_BEGIN": {
            "description": "Reservation begin date",
            "type": "string",
            "format": "date"
        },
        "RES_END": {
            "description": "Reservation end date",
            "type": [
                "string",
                "null"
            ],
            "format": "date"
        },
        "RES_AMOUNT": {
            "description": "Activity amount",
            "type": "number"
        },
        "RES_CURRENCY": {
            "description": "Activity currency",
            "type": "string",
            "minLength": 3,
            "maxLength": 3
        },
        "SET_AMOUNT": {
            "description": "Settlement amount",
            "type": [
                "number",
                "null"
            ]
        },
        "SET_CURRENCY": {
            "description": "Settlement currency",
            "type": [
                "string",
                "null"
            ],
            "minLength": 3,
            "maxLength": 3
        },
        "XRATE": {
            "$ref": "#/definitions/XRATE"
        },
        "XRATE_DEVIATION": {
            "description": "exchange rate deviation against the ECB",
            "type": [
                "number",
                "null"
            ]
        },
        "PRODUCT_KIND": {
            "description": "Product kind",
            "type": "string",
            "enum": [
                "CUA",
                "CCR",
                "LOA",
                "RDA",
                "NWB",
                "CRD"
            ]
        }
    },
    "required": [
        "RES_ID",
        "ACT_ID",
        "STATE",
        "PC_ID",
        "PR_NUMBER",
        "CRD_ID",
        "CRD_NUMBER",
        "ACC_AMOUNT",
        "ACC_CURRENCY",
        "RES_BEGIN",
        "RES_AMOUNT",
        "RES_CURRENCY"
    ]
}