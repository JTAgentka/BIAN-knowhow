{
	"title": "Deposit",
	"$schema": "https://json-schema.org/draft/2020-12/schema",
	"description": "Term deposit + NWL",
	"type": "object",
	"required": [
		"depositIdPc",
		"depositIdPr",
		"depositKind",
		"eventTimestamp",
		"depositAccountNumber",
		"depositAccountBankCode",
		"depositAccountBicCode",
		"status",
		"depositType",
		"dateOpen",
		"seqNumber",
		"currency",
		"interestFrequency",
		"interestRate",
		"startDate",
		"owner"
	],
	"properties": {
		"X-Correlation-ID": {
			"description": "X-Correlation-ID",
			"type": [
				"string",
				"null"
			]
		},
		"depositIdPc": {
			"description": "Unique identification of deposit in bank system.",
			"type": "string"
		},
		"depositIdPr": {
			"description": "depositIdPr",
			"type": "string"
		},
		"depositKind": {
			"description": "Kind of deposit.",
			"type": "string",
			"minLength": 3,
			"maxLength": 3,
			"enum": [
				"RDA",
				"NWB"
			]
		},
		"eventTimestamp": {
			"description": "Date and time of inserting into event table in BISQ",
			"type": "string",
			"format": "date-time"
		},
		"depositAccountNumber": {
			"type": "string",
			"description": "Account number of the related deposit account"
		},
		"depositAccountBankCode": {
			"type": "string",
			"description": "Bank code of deposit account."
		},
		"depositAccountBicCode": {
			"type": "string",
			"description": "BIC code of deposit account (necessary for QR code)"
		},
		"depositAccountIban": {
			"type": [
				"string",
				"null"
			],
			"maxlength": 34,
			"description": "IBAN of deposit account (necessary for QR code)"
		},
		"status": {
			"description": "Deposit status, statuses are the same as account statuses",
			"type": "string",
			"enum": [
				"A",
				"OO",
				"OB",
				"C",
				"OC",
				"OD",
				"O3"
			]
		},
		"depositType": {
			"type": "string",
			"description": "Bank categorization of term deposits"
		},
		"description": {
			"type": "string",
			"description": "Deposit description"
		},
		"dateOpen": {
			"type": "string",
			"format": "date",
			"description": "Date of real opening of the deposit."
		},
		"dateClose": {
			"type": [
				"string",
				"null"
			],
			"format": "date",
			"description": "Date of closing the deposit."
		},
		"seqNumber": {
			"type": "string",
			"description": "Sequence number of prolongation."
		},
		"dateOfNextInterest": {
			"type": [
				"string",
				"null"
			],
			"format": "date",
			"description": "Date of adding next interest."
		},
		"currency": {
			"type": "string",
			"description": "Currency."
		},
		"interestFrequency": {
			"type": "string",
			"description": "How often the interest is accrued"
		},
		"interestRate": {
			"type": "number",
			"description": "Deposit rate - interest rate"
		},
		"startDate": {
			"type": "string",
			"format": "date",
			"description": "Date of the product creation"
		},
		"principalPayoffAccountId": {
			"type": [
				"string",
				"null"
			],
			"description": "Identification of ourrent account which is used like receving account for principal payments from deposit account. Can be used to display account name. It can be used only if the account is within the bank and bank is able to provide account identification."
		},
		"principalPayoffAccount": {
			"type": [
				"string",
				"null"
			],
			"description": "Prefix of ourrent account which is used like receving account for principal payments from deposit account(full account number - BBAN or IBAN for foreign accounts)"
		},
		"interestPayoffAccountId": {
			"type": [
				"string",
				"null"
			],
			"description": "Identification of ourrent account which is used like receving account for interest payments from deposit account. Can be used to display account name. It can be used only if the account is within the bank and bank is able to provide account identification."
		},
		"interestPayoffAccount": {
			"type": [
				"string",
				"null"
			],
			"description": "Prefix of current account which is used like receving account for interest from deposit account (full account number - BBAN or IBAN for foreign accounts)"
		},
		"owner": {
			"$ref": "#/definitions/person"
		},
		"coowner": {
			"$ref": "#/definitions/person"
		},
		"termDepositSpecific": {
			"$ref": "#/definitions/termDepositSpecific"
		},
		"nwbSpecific": {
			"$ref": "#/definitions/nwbSpecific"
		}
	},
	"definitions": {
		"person": {
			"type": "object",
			"required": [
				"quaestorId",
				"crmId",
				"personType",
				"personIdentificationNumber",
				"personFullName"
			],
			"properties": {
				"quaestorId": {
					"type": "string",
					"description": "Unique Quaestor identifier",
					"minLength": 10,
					"maxLength": 10
				},
				"crmId": {
					"type": "string",
					"description": "Unique CRM identifier",
					"minLength": 10,
					"maxLength": 10
				},
				"personType": {
					"type": "string",
					"description": "Person type (LP = Právnická osoba, IP = fyzická osoba)",
					"enum": [
						"LP",
						"IP"
					]
				},
				"personIdentificationNumber": {
					"type": "string",
					"description": "Person identification depending on the personType value"
				},
				"personFullName": {
					"type": "string",
					"description": "Full name of person"
				}
			}
		},
		"termDepositSpecific": {
			"type": "object",
			"required": [
				"initialAmount",
				"termDuration",
				"maturityDate"
			],
			"properties": {
				"initialAmount": {
					"type": "number",
					"description": "Initial amount of deposit"
				},
				"termDuration": {
					"type": "string",
					"description": "Period of the deposit duration; for revolving deposits the deposit is renewed after this period. Value consists of integer + period code (D, M or Y)"
				},
				"prolongation": {
					"type": [
						"string",
						"null"
					],
					"description": "Can be manual (M) or automatic (A). Indicates whether deposit should automatically be renewed at the end of the period (automatic prolongation means it is revolving period)"
				},
				"maturityDate": {
					"type": "string",
					"format": "date",
					"description": "Maturity date of deposit"
				},
				"signalDate": {
					"type": [
						"string",
						"null"
					],
					"format": "date",
					"description": "Date until client can cancel automatic prolongation"
				},
				"premiumInterestRate": {
					"type": [
						"number",
						"null"
					],
					"description": "Premium interest rate."
				}
			}
		},
		"nwbSpecific": {
			"type": "object",
			"required": [
				"noticePeriod"
			],
			"properties": {
				"noticePeriod": {
					"type": "string",
					"description": "notice period"
				},
				"numberOfTerminations": {
					"type": [
						"number",
						"null"
					],
					"description": "How many terminations exist for the deposit"
				},
				"totalAmountOfTerminations": {
					"type": [
						"number",
						"null"
					],
					"description": "Total amount of all terminations for the deposit"
				}
			}
		}
	}
}