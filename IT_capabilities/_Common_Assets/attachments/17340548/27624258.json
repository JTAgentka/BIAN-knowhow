{
    "description": "Reservation",
    "title": "Reservation",
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "type": "object",
    "required": [
        "RES_ID",
        "ACT_ID",
        "STATE",
        "CODE",
        "ACT_TYPE",
        "PC_ID",
        "PR_NUMBER",
        "ACC_AMOUNT",
        "ACC_CURRENCY",
        "RES_BEGIN",
        "RES_AMOUNT",
        "RES_CURRENCY"
    ],
    "properties": {
        "X-Correlation-ID": {
            "description": "Correlation identifier",
            "type": [
                "string",
                "null"
            ]
        },
        "RES_ID": {
            "description": "BISQ reservation internal ID",
            "type": "string",
            "minLength": 20,
            "maxLength": 20
        },
        "EVENT_TIMESTAMP": {
            "description": "Date and time of inserting into event table in BISQ",
            "type": [
                "string",
                "null"
            ],
            "format": "date-time"
        },
        "ACT_ID": {
            "description": "BISQ activity internal ID",
            "type": "string",
            "minLength": 20,
            "maxLength": 20
        },
        "STATE": {
            "description": "Reservation state (A)Authorised, (O)Opened, (C)Closed, (X)Deleted",
            "type": "string",
            "enum": [
                "A",
                "O",
                "C",
                "X"
            ]
        },
        "CODE": {
            "description": "Reservation code:\nQ01 Non-fiat reservation\nQ02 Documentary credit reservation\nQ03 Bank guarantee reservation\nQ04 Commission reservation\nR01 Blokace pro platbu\nR02 Blokace jako zajištění\nR03 Blokace na žádost klienta\nR04 Blokace na žádost FÚ\nR05 Blokace na žádost soudu\nR06 Blokace na žádost ost.správních or\nR07 Blokace z důvodu dědického řízení\nR08 Blokace před zápisem do OR\nR09 Blokace banky\nR10 Blokace z provedení zahraniční plat\nR11 Blokace Vyrozumění právní moci\nV01 Výpověď z účtu",
            "type": "string",
            "enum": [
                "Q01",
                "Q02",
                "Q03",
                "Q04",
                "R01",
                "R02",
                "R03",
                "R04",
                "R05",
                "R06",
                "R07",
                "R08",
                "R09",
                "R10",
                "R11",
                "V01"
            ]
        },
        "ACT_TYPE": {
            "description": "Activity type:\nCRD98A00 Cards settlement intermediate account booking\nCUA01080 Current Account reservation maintenance.\nCUA41100 Customer investment to instrument\nGLM06700 GL interbank transaction\nPTS93200 Príkaz k úhrade\nPTS94500 Príchozí platba\nPTS97100 Zahranicní platba banky\nPTS97200 Zahranicní platba klienta\nPTS98100 Zahranicní platba banky - príchozí\nPTS98200 Zahranicní platba klienta - príchozí\n",
            "type": "string",
            "minLength": 8,
            "maxLength": 8
        },
        "PC_ID": {
            "description": "BISQ product contract internal ID",
            "type": "string",
            "minLength": 20,
            "maxLength": 20
        },
        "PR_NUMBER": {
            "description": "Product number",
            "type": "string",
            "minLength": 1,
            "maxLength": 35
        },
        "ACC_AMOUNT": {
            "description": "Reservation amount",
            "type": "number"
        },
        "ACC_CURRENCY": {
            "description": "Account currency",
            "type": "string",
            "minLength": 3,
            "maxLength": 3
        },
        "RES_BEGIN": {
            "description": "Reservation begin date",
            "type": "string",
            "format": "date"
        },
        "RES_END": {
            "description": "Reservation end date",
            "type": [
                "string",
                "null"
            ],
            "format": "date"
        },
        "RES_AMOUNT": {
            "description": "Activity amount",
            "type": "number"
        },
        "RES_CURRENCY": {
            "description": "Activity currency",
            "type": "string",
            "minLength": 3,
            "maxLength": 3
        },
        "XRATE": {
            "$ref": "#/definitions/XRATE"
        },
        "XRATE_DEVIATION": {
            "description": "exchange rate deviation against the ECB",
            "type": [
                "number",
                "null"
            ]
        },
        "COMMENT": {
            "description": "Comment about reservation",
            "type": [
                "string",
                "null"
            ]
        },
        "PRODUCT_KIND": {
            "description": "Product kind",
            "type": "string",
            "enum": [
                "CUA",
                "CCR",
                "LOA",
                "RDA",
                "NWB",
                "CRD"
            ]
        }
    },
    "definitions": {
        "XRATE": {
            "type": [
                "array",
                "null"
            ],
            "title": "XRATE",
            "description": "Used xrates",
            "items": {
                "type": "object",
                "properties": {
                    "CURRENCY": {
                        "type": [
                            "string",
                            "null"
                        ],
                        "minLength": 3,
                        "maxLength": 3,
                        "title": "CURRENCY",
                        "description": "exchange rate currency"
                    },
                    "EXCHANGE_RATE": {
                        "type": "number",
                        "title": "EXCHANGE_RATE",
                        "description": "exchange rate"
                    },
                    "QUOTATION_UNIT": {
                        "type": [
                            "number",
                            "null"
                        ],
                        "title": "QUOTATION_UNIT",
                        "description": "quotation unit"
                    }
                }
            },
            "required": [
                "EXCHANGE_RATE"
            ]
        }
    }
}