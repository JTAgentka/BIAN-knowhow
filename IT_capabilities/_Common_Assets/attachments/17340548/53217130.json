{
  "title": "portfolioOverviewPartial",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "description": "Portfolio overview partial schema",
  "required": [
    "action",
	"businessChangeDate",
    "portfolioIds",
    "owner",
    "shortName",
    "pfCurrency",
    "created",
    "pfCategoryCode",
    "pfModeCode",
    "managingCompanyTag"
  ],
  "type": "object",
  "properties": {
    "X-Correlation-ID": {
      "type": [
        "string",
        "null"
      ],
      "title": "X-Correlation-ID",
      "description": "Korelační identifikátor, povinné pro INIT a RECON"
    },
    "action": {
      "description": "Typ operace",
      "type": "string",
      "enum": [
        "create",
        "update",
        "delete"
      ]
    },
    "businessChangeDate": {
      "description": "Datum a čas poslední změny entity",
      "type": "string",
      "format": "date-time"
    },
    "portfolioIds": {
      "type": "object",
      "description": "Portfolio identifiers",
      "$ref": "#/definitions/portfolioIds"
    },
    "owner": {
      "type": "object",
      "description": "Person details",
      "$ref": "#/definitions/person"
    },
    "shortName": {
      "description": "Zkratka portfolia",
      "type": "string"
    },
    "pfCurrency": {
      "description": "Měna portfolia",
      "type": "string"
    },
    "created": {
      "description": "Datum vytvoření portfolia",
      "type": "string",
      "format": "date-time"
    },
    "activityEnd": {
      "description": "Datum konce aktivity portfolia (může být v budoucnu)",
      "type": [
        "string",
        "null"
      ],
      "format": "date"
    },
    "pfCategoryCode": {
      "description": "Kód kategorie portfolia TOPASu",
      "type": "string"
    },
    "pfModeCode": {
      "description": "Režim portfolia - kód TOPAS",
      "type": "string"
    },
    "managingCompanyTag": {
      "description": "Příslušnost portfolia ke společnosti - barva klienta: J&T ČR - silver, J&T SR - green",
      "type": "string",
      "enum": [
        "silver",
        "green"
      ]
    }
  },
  "definitions": {
    "portfolioIds": {
      "description": "Portfolio identifiers",
      "type": "object",
      "required": [
        "adpId",
        "topasId",
        "taId"
      ],
      "properties": {
        "adpId": {
          "type": "string",
          "description": "Portfolio identification in ADP"
        },
        "topasId": {
          "type": "integer",
          "description": "Portfolio identification in TOPAS"
        },
        "taId": {
          "type": "integer",
          "description": "Portfolio identification in TA"
        }
      }
    },
    "person": {
      "description": "Person details",
      "type": "object",
      "required": [
        "crmId"
      ],
      "properties": {
        "crmId": {
          "type": "string",
          "description": "Unique CRM identifier",
          "minLength": 10,
          "maxLength": 10
        }
      }
    }
  }
}