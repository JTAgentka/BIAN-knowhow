{
  "title": "DDM",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "DDM",
  "type": "object",
  "required": [
    "ptsId",
    "businessChangeDate",
    "isRepeat",
    "requestedExecutionDate",
    "scheme",
    "mandateId",
    "cid",
    "debtor",
    "businessState",
    "channel",
    "amountLimitUsed",
    "iterationsCount"
  ],
  "properties": {
    "X-Correlation-ID": {
      "type": [
        "string",
        "null"
      ],
      "title": "X-Correlation-ID",
      "description": "Correlation identifier"
    },
    "ptsId": {
      "type": "integer",
      "title": "ptsId",
      "description": "id inkasa v PTS"
    },
    "businessChangeDate": {
      "type": "string",
      "format": "date-time",
      "title": "businessChangeDate",
      "description": "datum business změny stavu datové entity"
    },
    "identification": {
      "type": "object",
      "title": "identification",
      "description": "identification",
      "properties": {
        "instructionIdentification": {
          "type": "string",
          "title": "instructionIdentification",
          "description": "ID DDM zaslané do PTS"
        },
        "operationId": {
          "type": "string",
          "title": "operationId",
          "description": "operation id zaslané z externího systému"
        }
      }
    },
    "alias": {
      "type": [
        "string",
        "null"
      ],
      "title": "alias",
      "description": "uživatelský název DDM"
    },
    "isRepeat": {
      "type": "boolean",
      "title": "isRepeat",
      "description": "příznak opakování"
    },
    "requestedExecutionDate": {
      "type": "string",
      "format": "date",
      "title": "requestedExecutionDate",
      "description": "datum odkdy je DDM platné"
    },
    "lastExecutionDate": {
      "type": [
        "string",
        "null"
      ],
      "format": "date",
      "title": "lastExecutionDate",
      "description": "datum konce DDM"
    },
    "scheme": {
      "type": "string",
      "title": "scheme",
      "description": "schéma SDD (SEPA Direct Debit)",
      "enum": [
        "CORE",
        "B2B"
      ]
    },
    "mandateId": {
      "type": "string",
      "title": "mandateId",
      "description": "id mandátu"
    },
    "cid": {
      "type": "string",
      "title": "cid",
      "description": "ID kreditora"
    },
    "amountSingleLimit": {
      "type": [
        "number",
        "null"
      ],
      "title": "amountSingleLimit",
      "description": "limit pro jednotlivou částku"
    },
    "amountSumLimit": {
      "type": [
        "number",
        "null"
      ],
      "title": "amountSumLimit",
      "description": "limit pro součet částek"
    },
    "maxIterations": {
      "type": [
        "integer",
        "null"
      ],
      "title": "maxIterations",
      "description": "limit pro maximální počet opakování"
    },
    "referredDocument": {
      "type": [
        "string",
        "null"
      ],
      "title": "referredDocument",
      "description": "refereční dokument"
    },
    "dateOfSignature": {
      "type": [
        "string",
        "null"
      ],
      "format": "date",
      "title": "dateOfSignature",
      "description": "datum podpisu referenčního dokumentu"
    },
    "debtor": {
      "type": "object",
      "title": "debtor",
      "description": "odesílatel",
      "required": [
        "account",
        "bank",
        "name"
      ],
      "properties": {
        "account": {
          "type": "object",
          "title": "account",
          "description": "account",
          "required": [
            "other",
            "iban",
            "currency"
          ],
          "properties": {
            "other": {
              "type": "object",
              "title": "other",
              "description": "other",
              "required": [
                "identification"
              ],
              "properties": {
                "identification": {
                  "type": "string",
                  "title": "identification",
                  "description": "QST ID odesílatele"
                }
              }
            },
            "iban": {
              "type": "string",
              "title": "iban",
              "description": "iban odesílatele"
            },
            "currency": {
              "type": "string",
              "title": "currency",
              "description": "měna účtu odesílatele"
            }
          }
        },
        "bank": {
          "type": "object",
          "title": "bank",
          "description": "bank",
          "required": [
            "bic"
          ],
          "properties": {
            "bic": {
              "type": "string",
              "title": "bic",
              "description": "BIC banky odesílatele"
            }
          }
        },
        "name": {
          "type": "string",
          "title": "name",
          "description": "jméno odesílatele"
        }
      }
    },
    "creditor": {
      "type": "object",
      "title": "creditor",
      "description": "příjemce",
      "properties": {
        "bank": {
          "type": "object",
          "title": "bank",
          "description": "bank",
          "properties": {
            "bic": {
              "type": "string",
              "title": "bic",
              "description": "BIC banky příjemce"
            }
          }
        },
        "name": {
          "type": "string",
          "title": "name",
          "description": "jméno příjemce"
        }
      }
    },
    "note": {
      "type": [
        "string",
        "null"
      ],
      "title": "note",
      "description": "poznámka u mandátu"
    },
    "businessState": {
      "type": "string",
      "title": "businessState",
      "description": "business status DDM"
    },
    "channel": {
      "type": "string",
      "title": "channel",
      "description": "komunikační kanál"
    },
    "lastPaymentDate": {
      "type": [
        "string",
        "null"
      ],
      "format": "date",
      "title": "lastPaymentDate",
      "description": "datum poslední vygenerované platby"
    },
    "amountLimitUsed": {
      "type": "number",
      "title": "amountLimitUsed",
      "description": "součet částek všech vygenerovaných inkas"
    },
    "iterationsCount": {
      "type": "integer",
      "title": "iterationsCount",
      "description": "počet vygenerovaných plateb "
    }
  }
}