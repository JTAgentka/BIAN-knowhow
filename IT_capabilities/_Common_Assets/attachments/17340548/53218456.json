{
    "title": "CreditAccount",
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "description": "Credit account",
    "type": "object",
    "required": [
        "accountId",
        "accountKind",
        "eventTimestamp",
        "accountNumberPrefix",
        "accountNumber",
        "bankCode",
        "iban",
        "bic",
        "accountCurrency",
        "accountDescription",
        "accountName",
        "accountType",
        "accountState",
        "creationDate",
        "owner",
        "maximalDebitLimit",
        "maximalDebitLimitCurrency",
        "interestCreditRate",
        "interestDebitRate",
        "productId",
        "firstPaymentDate",
        "paymentFrequency",
        "businessDay",
        "automaticRepaymentFlag"
    ],
    "properties": {
        "X-Correlation-ID": {
            "type": [
                "string",
                "null"
            ],
            "description": "Correlation identifier"
        },
        "accountId": {
            "description": "Unique account identifier",
            "type": "string"
        },
        "accountKind": {
            "description": "Account kind",
            "type": "string",
            "enum": [
                "CUA",
                "CCR",
                "LOA",
                "RDA",
                "NWB",
                "CRD"
            ]
        },
        "eventTimestamp": {
            "description": "Date and time of inserting into event table in BISQ",
            "type": "string",
            "format": "date-time"
        },
        "accountNumberPrefix": {
            "type": "string",
            "maxlength": 6,
            "description": "Account prefix in BBAN format."
        },
        "accountNumber": {
            "type": "string",
            "maxlength": 10,
            "description": "Account number in BBAN format."
        },
        "bankCode": {
            "type": "string",
            "maxlength": 4,
            "description": "Code of the bank."
        },
        "iban": {
            "type": "string",
            "maxlength": 34,
            "description": "Account number in IBAN format."
        },
        "bic": {
            "type": "string",
            "description": "Bank BIC code issued by Swift."
        },
        "accountCurrency": {
            "type": "string",
            "description": "Account currency."
        },
        "accountDescription": {
            "type": "string",
            "minLength": 1,
            "maxlength": 35,
            "description": "Account description"
        },
        "accountName": {
            "type": "string",
            "description": "Account name"
        },
        "accountType": {
            "type": "string",
            "description": "Account type ID"
        },
        "accountState": {
            "description": "Account status",
            "type": "string",
            "enum": [
                "A",
                "C",
                "OO",
                "OB",
                "OC",
                "OD"
            ]
        },
        "creationDate": {
            "type": "string",
            "format": "date",
            "description": "Creation date"
        },
        "clearDate": {
            "type": [
                "string",
                "null"
            ],
            "format": "date",
            "description": "Clear date"
        },
        "owner": {
            "$ref": "#/definitions/person"
        },
        "maximalDebitLimit": {
            "type": "number",
            "description": "Maximal debit limit"
        },
        "maximalDebitLimitCurrency": {
            "type": "string",
            "description": "Maximal debit limit currency. Format: ISO-Alpha-3"
        },
        "interestCreditRate": {
            "type": "number",
            "description": "Interest rate of account (credit)."
        },
        "interestDebitRate": {
            "type": "number",
            "description": "Interest rate of account (debit)."
        },
        "productId": {
            "type": "string",
            "minLength": 20,
            "maxLength": 20,
            "description": "productId in BISQ."
        },
        "coowner": {
            "$ref": "#/definitions/person"
        },
        "minimumPaymentPortion": {
            "type": [
                "number",
                "null"
            ],
            "description": "Minimum portion of payment."
        },
        "minimumPayment": {
            "type": [
                "number",
                "null"
            ],
            "description": "Minimum payment in account currency."
        },
        "fixPayment": {
            "type": [
                "number",
                "null"
            ],
            "description": "Fix payment."
        },
        "firstPaymentDate": {
            "type": "string",
            "format": "date",
            "description": "Date of first payment."
        },
        "paymentFrequency": {
            "type": "string",
            "description": "Frequency of payment. Example: 3M. Number + D/W/M/Y."
        },
        "lastDayOfMonthFlag": {
            "type": [
                "boolean",
                "null"
            ],
            "description": "Is payment scheduled to last day of the month?"
        },
        "businessDay": {
            "type": "string",
            "description": "Date of payment according to business days. (NEXT = next business day, PREV = previous business day, NXTIM = ext business day in month, PRVIM = previous business day in month, NOBDC = ignore business days).",
            "enum": [
                "NEXT",
                "PREV",
                "NXTIM",
                "PRVIM",
                "NOBDC"
            ]
        },
        "automaticRepaymentFlag": {
            "type": "boolean",
            "description": "Flag of automatic repayment."
        }
    },
    "definitions": {
        "person": {
            "type": "object",
            "required": [
                "quaestorId",
                "crmId",
                "personType",
                "personIdentificationNumber",
                "personFullName"
            ],
            "properties": {
                "quaestorId": {
                    "type": "string",
                    "description": "Unique Quaestor identifier",
                    "minLength": 10,
                    "maxLength": 10
                },
                "crmId": {
                    "type": "string",
                    "description": "Unique CRM identifier",
                    "minLength": 10,
                    "maxLength": 10
                },
                "personType": {
                    "type": "string",
                    "description": "Person type (LP = Právnická osoba, IP = fyzická osoba)",
                    "enum": [
                        "LP",
                        "IP"
                    ]
                },
                "personIdentificationNumber": {
                    "type": "string",
                    "description": "Person identification depending on the personType value"
                },
                "personFullName": {
                    "type": "string",
                    "description": "Full name of person"
                }
            }
        }
    }
}
