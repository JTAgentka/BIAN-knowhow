openapi: 3.0.0
info:
  title: eBroker trading API
  description: služby eBroker
  version: 0.5.0
  # v0.1.13 - Jakub Rozsypal - odstranění výstupního textu u RES 202 v souladu s analýzou wPV
  # v0.1.14 - Jakub Rozsypal - oprava popisu atributu currency v POST order
  # v0.2.0 - Jakub Rozsypal - přidání vstupu Order.topPortfolioId - https://helpdesk.jtfg.com/issues/22558
  # v0.3.0 - Tomáš Trojan   - přidání vstupu Order.submitterCrmId (CRM ID) a receivingTraderDomainName, změna povinnosti- https://helpdesk.jtfg.com/issues/22224. Odtranění ignoreRisk z chyb (již není ani v seznamu vstupů)
  # v0.4.0 - Jakub Rozsypal   - přidání výstupu accountBalances.portfolioIds (starší výstup portfolioId bude držen kvůli kompatibilitě po dobu jednoho REL)
  # v0.5.0 - Vít Joachymstál - úprava povinnosti objektu https://jira.jtfg.com/browse/EBR-106?focusedCommentId=152575&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-152575portfolioIds a v něm vnořených atributů
tags:
  - name: accounts
    description: Operace s účty
  - name: orders
    description: Operace s pokyny
  - name: validations
    description: Validační operace
paths:
  /accountBalances:
    get:
      tags:
        - accounts
      summary: Vrací aktuální zůstatek na sběrných účtech portfolií
      description: Vrací aktuální zůstatek na sběrných účtech portfolií
      parameters:
        - name: referenceSystem
          in: query
          schema:
            type: string
            enum:
              - top
              - ebr
            example: top
          description: systém hodnot referencí na portfolia (KID/ID_Portfolio)
        - name: crmIdOwner
          in: query
          schema:
            type: string
            pattern: \w{10}
            example: 1234567890
          description: >-
            ID klienta v systému CRM, který vlastní Portfolia, k nimž má být
            získána informace, omezení exclusive OR (crmIdOwner/portfolioIds)
        - name: portfolioIds
          in: query
          schema:
            type: string
            example: 1234567,98765432,23456789
          description: >-
            hodnoty KID nebo ID_Portfolio oddělené čárkou, podle
            ReferenceSystem, omezení exclusive OR (crmIdOwner/portfolioIds)
        - name: reportCurrency
          in: query
          schema:
            type: string
            enum:
              - CZK
              - EUR
              - USD
            example: CZK
          description: >-
            ISO kód 4217 měny, ve které mají být uvedeny zůstatky účtů pro
            možnost sečtení (při neuvedení se pro každé portfolio použije Měna
            portfolia)
      responses:
        '200':
          $ref: '#/components/responses/200-accountBalances'
        '400':
          $ref: '#/components/responses/400BadRequest-accountBalances'
        '404':
          $ref: '#/components/responses/404NotFound-accountBalances'
        '422':
          $ref: '#/components/responses/422UnprocessableEntity-accountBalances'
        '500':
          $ref: '#/components/responses/500InternalServerError-general'
        '503':
          $ref: '#/components/responses/503ServiceUnavailable-general'
  /order:
    post:
      tags:
        - orders
      summary: Vložení nového pokynu do eBroker
      description: >-
        Universální vkládání pokynu do eBR s možností vytvoření rezervace
        převodu peněz z běžného účtu na sběrný účet.
      parameters:
        - in: header
          name: x-request-id
          schema:
            type: string
            format: uuid
          required: true
      requestBody:
        description: orderRequest
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/order'
      responses:
        '201':
          $ref: '#/components/responses/201-order'
        '202':
          $ref: '#/components/responses/202ACCEPTED'
        '400':
          $ref: '#/components/responses/400BadRequest-order'
        '403':
          $ref: '#/components/responses/403Forbidden'
        '404':
          $ref: '#/components/responses/404NotFound-order'
        '422':
          $ref: '#/components/responses/422UnprocessableEntity-order'
        '500':
          $ref: '#/components/responses/500InternalServerError-general'
        '503':
          $ref: '#/components/responses/503ServiceUnavailable-general'
  /withdrawalPaymentValidation:
    post:
      tags:
        - validations
      summary: validace výběru ze sběrného účtu
      description: >-
        Zkontroluje vstupní parametry, na jejich základě ověří zůstatek na účtu
        a případně volá validaci MRM (validaci nového Pokynu), vrátí výsledek
        validace.
      parameters:
        - in: header
          name: x-request-id
          schema:
            type: string
            format: uuid
          required: true
      requestBody:
        description: withdrawalPaymentValidation
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/withdrawalPaymentValidation'
      responses:
        '200':
          $ref: '#/components/responses/200-withdrawalPaymentValidation'
        '202':
          $ref: '#/components/responses/202ACCEPTED'
        '400':
          $ref: '#/components/responses/400BadRequest-withdrawalPaymentValidation'
        '404':
          $ref: '#/components/responses/404NotFound-withdrawalPaymentValidation'
        '422':
          $ref: >-
            #/components/responses/422UnprocessableEntity-withdrawalPaymentValidation
        '500':
          $ref: '#/components/responses/500InternalServerError-general'
        '503':
          $ref: '#/components/responses/503ServiceUnavailable-general'
components:
  schemas:
    response200-accountBalances:
      type: object
      properties:
        referenceSystem:
          type: string
          description: systém hodnot referencí na portfolia (KID/ID_Portfolio)
          enum:
            - top
            - ebr
          example: top
        reportCurrency:
          type: string
          description: >-
            ISO kód 4217 měny, ve které mají být uvedeny zůstatky účtů pro
            možnost sečtení; citace vstupu
          pattern: \w{3}
          enum:
            - CZK
            - EUR
            - USD
          example: CZK
        portfolioReports:
          type: array
          items:
            $ref: '#/components/schemas/portfolioReports'
      required:
        - referenceSystem
    response201-order:
      type: object
      properties:
        orderId:
          type: integer
          description: id pokynu v eBroker
          example: '100765'
        errorText:
          type: string
          description: popis důvodu odmítnutí pokynu
          example: RESERVATIONCRE_INSUFFICIENT_MONEY
      required:
        - orderId
    response202:
      type: object
    response400:
      type: object
      properties:
        datetime:
          type: string
          description: ''
          example: ''
          format: date-time
        errCode:
          type: string
          description: ''
          example: <errCode>
        errTitle:
          type: string
          description: ''
          example: <errTitle>
        path:
          type: string
          description: ''
          example: ''
        requestId:
          type: string
          description: ''
          example: <UUID>
    response500:
      type: object
      properties:
        datetime:
          type: string
          description: ''
          example: ''
          format: date-time
        errCode:
          type: string
          description: ''
          example: ERROR
        errTitle:
          type: string
          description: ''
          example: Unexpected error
        path:
          type: string
          description: ''
          example: ''
        requestId:
          type: string
          description: ''
          example: <UUID>
    accBalances:
      type: object
      description: >-
        V kolekci se vrací pouze nenulové zůstatky na účtech. Nevrací tedy
        všechny účty, které jsou pro dané portfolio dostupné. Data jsou řazena
        podle accCurrency, accNumber.
      properties:
        accNumber:
          type: string
          description: >-
            Číslo účtu identifikující Sběrný účet (max. 17 znaků: předčíslí až 6
            cifer, pomlčka, číslo účtu 10 cifer)
        bankCode:
          type: string
          description: Kód banky spravující Sběrný účet
          pattern: \w{4}
        accCurrency:
          type: string
          description: ISO kód 4217 Měny účtu
          pattern: \w{3}
        accBalAPresettled:
          type: number
          description: >-
            předvypořádaný (vypořádaný plus platební příkazy) zůstatek na účtu v
            accCurrency
          example: 1234.56
        accBalRPresettled:
          type: number
          description: >-
            předvypořádaný (vypořádaný plus platební příkazy) zůstatek na účtu v
            reportCurrency
          example: 1234.56
      required:
        - accNumber
        - bankCode
        - accCurrency
        - accBalAPresettled
        - accBalRPresettled
    portfolioReports:
      type: object
      description: >-
        V kolekci se vrací data pro každé zpracované Portfolio. Pokud je množina
        Portfolií dána výčtem (<portfolioIds>), operace v případě nenalezení byť
        jediného z uvedených Portfolií vrátí chybu (a nevrátí žádná data).
      properties:
        portfolioIds:
            description: Portfolio identifiers
            type: object
            required:
            - ebrokerId
            - topId
            properties:
              ebrokerId:
                type: integer
                description: identifikace portfolia v eBroker
              topId:
                type: integer
                description: identifikace portfolia v Topas
        portfolioId:
          type: integer
          description: hodnota KID nebo ID_Portfolio, podle referenceSystem
        reportCurrency:
          type: string
          description: >-
            ISO kód 4217 měny, ve které jsou uvedeny celkové zůstatky účtů
            (podle vstupu, při neuvedení - Měna portfolia)
          pattern: \w{3}
          enum:
            - CZK
            - EUR
            - USD
          example: CZK
        ptfTotalPresettled:
          type: number
          description: >-
            celkový předvypořádaný (vypořádaný plus platební příkazy) zůstatek
            na účtech portfolia v reportCurrency
          example: 1234.56
        accBalances:
          type: array
          items:
            $ref: '#/components/schemas/accBalances'
      required:
        - portfolioIds
        - portfolioId
        - reportCurrency
        - ptfTotalPresettled
    order:
      type: object
      properties:
        validFrom:
          type: string
          description: Datum podání pokynu, pokud prázdné=sysdate
          format: date-time
        placedById:
          type: integer
          description: id Přístupového účtu, který podává obchodní pokyn
        submitterCrmId:
          type: string
          description: ID klienta v systému CRM (CRM ID), která podává obchodní pokyn
        receivingTraderId:
          type: integer
          description: id Operátorského účtu, který převzal rušící pokyn od klienta (VZ)
        receivingTraderDomainName:
          type: string
          description: Doménové jméno příjmajícího makléře, který převzal pokyn od klienta JTBA\JT8100008
        portfolioId:
          type: integer
          description: eBr ID portfolia, povinné buď portfolioId nebo topPortfolioId
        topPortfolioId:
          type: integer
          description: TOP ID portfolia, povinné buď portfolioId nebo topPortfolioId
        isPlacedByBroker:
          type: boolean
          description: příznak podání pokynu Zprostředkovatelem pro dané porfolio
        instrumentId:
          type: integer
          description: id CP v eBroker
        instrumentDestId:
          type: integer
          description: id CP v eBroker, povoleno pouze pro pokyny směr Výměna (Fondy)
        tradingVenueId:
          type: integer
          description: id Trhu v eBroker
        side:
          type: string
          description: >-
            apl kód směru pokynu, možné hodnoty N (nákup), P (prodej), NK
            (cover), PK (short), VM (výměna)
          enum:
            - N
            - P
            - NK
            - PK
            - VM
          example: 'N'
        volume:
          type: number
          description: povinné pro objemové pokyny
        quantity:
          type: number
          description: povinné pro kusové pokyny
        quantityMode:
          type: string
          description: hodnoty kusy, objem, vse
          enum:
            - kusy
            - objem
            - vse
          example: kusy
        currency:
          type: string
          description: ISO kód 4217 měny pokynu
        minQuantity:
          type: number
          description: minimální počet kusů ke zobchodování na trhu
        icebergQuantity:
          type: number
          description: iceberg, pouze podporované trhy
        timeInForce:
          type: string
          description: možné hodnoty day, GTD, GTC
          enum:
            - day
            - GTD
            - GTC
          example: day
        validTo:
          type: string
          description: Povinné pro GTD pokyny, jinak zakázané. YYYY-MM-DD
          format: date
        settlDate:
          type: string
          description: YYYY-MM-DD
          format: date
        priceMode:
          type: string
          description: možné hodnoty trh, limit
          enum:
            - trh
            - limit
          example: trh
        limitPriceType:
          type: string
          description: Definice typu limitní ceny, možné hodnoty abs, pct
          enum:
            - abs
            - pct
          example: abs
        limitPrice:
          type: number
          description: Povinné pokud limitní pokyn
        sendQuantity:
          type: number
          description: Počet kusů ke spuštění, přepočet objemového pokyun na kusy
        sendLimitPriceType:
          type: string
          description: Jednotka limitní ceny pro spuštění
          enum:
            - abs
            - pct
          example: abs
        sendLimitPrice:
          type: number
          description: Limitní cena pro objemový pokyn pro dopočtení počtu kusů ke spuštění
        sendTradingVenueId:
          type: integer
          description: Trh pro spuštění pokynu
        sendDealerId:
          type: integer
          description: Dealer pro spuštění pokynu
        auctionOnly:
          type: boolean
          description: zobchodování v aukci, pouze podporované trhy
        stopPrice:
          type: number
          description: Stop cena
        payCurrency:
          type: string
          description: ISO kód 4217 měny platby
        clientNote:
          type: string
          description: Poznámka klient
        brokerNote:
          type: string
          description: Poznámka makléř
        topIdProduct:
          type: integer
          description: ID Produktu TOPAS
        topIdExecMethod:
          type: integer
          description: ID Způsobu realizace TOPAS
        prefAccountDepository:
          type: string
          description: Příznak preference účtu v depozitáři (individual/nominee)
          enum:
            - I
            - N
            - null
          example: I
        reservationVolume:
          type: number
          description: objem rezervace pro pokyn v měně platby (IU pokyn)
        communicationChannel:
          type: string
          description: aplikační kód komunikačního kanálu eBroker
        isParent:
          type: boolean
          description: příznak řízeného pokynu (Parent pokyn)
        paymentAccount:
          type: string
          description: Číslo bankovního účtu
        postponeReservation:
          type: boolean
          description: Příznak odložení rezervace pro pokyny s převodem (odložené pokyny)
        marketPrice:
          type: number
          description: >-
            tržní cena v době podání pokynu, pro objemové pokyny očekávaná cena
            realizace
        tradingVolume:
          type: number
          description: objem pokynu včetně aúv, bez poplatků
        unitAi:
          type: number
          description: kusové aúv v měně pokynu
        volumeAi:
          type: number
          description: celkové aúv v měně pokynu
        basketDiscount:
          type: number
          description: eP poplatek košíková sleva
        brokerFee:
          type: number
          description: poplatek Broker v měně pokynu
        traderFee:
          type: number
          description: poplatek Makléř v měně pokynu
        serviceFee:
          type: number
          description: poplatek Služba v měně pokynu
        tax:
          type: number
          description: daň v měně pokynu
        counterpartyFeeVolume:
          type: number
          description: poplatek Protistrany v částce v měně pokynu
        counterpartyFeePct:
          type: number
          description: poplatek Protistrany v procenech objemu pokynu
        fxRate:
          type: number
          description: FX kurz z měny pokynu do měny platby
        fxRateQuantity:
          type: integer
          description: >-
            Počet jednotek nakupované měny (pro neinverzní), nebo prodávané měny
            (pro inverzní).
        fxRateIsInverse:
          type: boolean
          description: >-
            false - pokud kurz říká, kolik jednotek prodávané měny je za uvedený
            počet jednotek nakupované měny true - pokud kurz říká, kolik
            jednotek nakupované měny je za uvedený počet jednotek prodávané měny
        topBroker1Id:
          type: integer
          description: TOP makléř 1
        topBroker2Id:
          type: integer
          description: TOP makléř 2
        topBroker3Id:
          type: integer
          description: TOP makléř 3
        ataSubstituteId:
          type: integer
          description: ID zástupce podílníka v TA
        ataAgentId:
          type: integer
          description: ID zprostředkovatele podílníka v TA
        valEngineId:
          type: string
          description: ID Předvalidace z VE
        processingMode:
          type: string
          description: Způsob zpracování pokynu
          enum:
            - man
            - auto
          example: auto
        toReject:
          type: boolean
          description: >-
            Příznak pokynu k odmítnutí, pokud true, tak eBroker pokyn ihned
            odmítá (stav odmítnutý)
        appInsertedBy:
          type: string
          description: >-
            Aplikace, kterou byl pokyn vložen (nikoliv komunikační kanál -
            způsob podání pokynu klientem).
          enum:
            - n/a
            - oms
            - ostatni
            - ep
            - dk
            - opk
            - poradenstvi
            - pp
      required:
        - instrumentId
        - tradingVenueId
        - side
        - quantityMode
        - currency
        - timeInForce
        - priceMode
        - communicationChannel
        - processingMode
        - appInsertedBy
    withdrawalPaymentValidation:
      type: object
      properties:
        paymentId:
          type: integer
          description: ID Platby v systému Topas BO (sysadm.Platby.PlID)
          example: 123456789
        clientId:
          type: integer
          description: ID Klienta v systému Topas (sysadm.Platby.KID)
          example: 123456789
        accountId:
          type: integer
          description: ID Účtu v systému Topas (sysadm.Platby.DID)
          example: 123456789
        tradeDate:
          type: string
          description: >-
            Datum zobchodování Platby ve formátu YYYY-MM-DD
            (sysadm.Platby.DZobchod)
          format: date
          example: '2021-10-13'
        amount:
          type: number
          description: částka Platby v Měně účtu (sysadm.Platby.MenaCastka)
          example: 10000
      required:
        - paymentId
        - clientId
        - accountId
        - tradeDate
        - amount
    response200-withdrawalPaymentValidation:
      type: object
      properties:
        validationStatus:
          type: string
          description: výsledek validace (úspěšná, neúspěšná, chyba při validaci)
          enum:
            - 'YES'
            - 'NO'
            - ERROR
          example: 'YES'
        errorText:
          type: string
          description: >-
            popis chyby při negativním ('NO') nebo chybovém ('ERROR') výsledku
            validace


            Při negativním výsledku validace začíná hodnotou '[acc]' nebo
            '[mrm]', podle toho, zda negativní výsledek validace byl způsoben
            nedostatečným stavem účtu ('[acc]'), nebo výrokem MRM ('[mrm]').
      required:
        - validationStatus
  responses:
    200-accountBalances:
      description: OK
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/response200-accountBalances'
    201-order:
      description: >
        OK


        popis důvodu odmítnutí pokynu


        | errorText                    | errTitle                         |

        |------------------------------|--------------------------------|

        |RESERVATIONCRE_INSUFFICIENT_MONEY|Insufficient money on the bank
        account|

        |RESERVATIONCRE_GET_ERROR <Technical Details>|error: Technical Details|

        |RESERVATIONCRE_FIND_ACCOUNT <Received Response
        Detail>|Find-account-Lite: Received Response Detail|

        |RESERVATIONCRE_QUAESTOR <Received Response Detail>|Quaestor: Received
        Response Message|

        |RESERVATIONCRE_WRONG_DATA_FORMAT <Technical Details>|Data for
        reservationCre in wrong format: Technical Details|
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/response201-order'
    200-withdrawalPaymentValidation:
      description: >
        OK


        Možné hodnoty validationStatus a errorText:

        | validationStatus | errorText                                 |
        poznámka                                |

        |------------------|-------------------------------------------|-----------------------------------------|

        | YES              | (prázdné)                                
        |                                         |

        | NO               | [acc] Account balance too low.           
        |                                         |

        | NO               | [mrm] <result_note>                       | hodnota
        result_note z MRM               |

        | ERROR            | [mrm_unavailable]                        
        |                                         |

        | ERROR            | [mrm_timeout]                            
        |                                         |

        | ERROR            | [mrm_error] [<result_code>] <result_note> | hodnoty
        result_code a result_note z MRM |


        možné hodnoty <result_code>: 'nedostatecne_zadani', 'validuj_rucne'


        V praxi by nemělo dojít k chybě typu [mrm_error], ale záleží na systému
        MRM.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/response200-withdrawalPaymentValidation'
    202ACCEPTED:
      description: >
        OK

        Požadavek se stále zpracovává

      content:
        application/json:
          schema:
            $ref: '#/components/schemas/response202'
    400BadRequest-accountBalances:
      description: >
        Bad Request


        Seznam možných chyb:


        | errCode                          | errTitle                         | 

        |-------------------------------|--------------------------------| 

        |REFERENCESYSTEM_IS_MISSING     |referenceSystem is missing - required| 

        |REFERENCESYSTEM_IS_NOT_VALID   |referenceSystem is not valid| 

        |PARAMETER_MISMATCH             |Attributes crmIdOwner and portfolioIds
        may not be used simultaneously| 

        | PARAMETER_IS_MISSING  |crmIdOwner or portfolioIds must be specified.|
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/response400'
    400BadRequest-order:
      description: >
        Bad Request


        Seznam možných chyb:


        | errCode                        | errTitle                         |

        | ------------------------------ |--------------------------------|

        | INSTRUMENTID_IS_MISSING |instrumentId is missing - required|

        | TRADINGVENUEID_IS_MISSING |tradingVenueId is missing - required|

        | SIDE_IS_MISSING |side is missing - required|

        | QUANTITYMODE_IS_MISSING |quantityMode is missing - required|

        | CURRENCYID_IS_MISSING |currencyId is missing - required|

        | TIMEINFORCE_IS_MISSING |timeInForce is missing - required|

        | PRICEMODE_IS_MISSING |priceMode is missing - required|

        | COMMUNICATIONCHANNEL_IS_MISSING |communicationChannel is missing -
        required|

        | RESERVATIONVOLUME_IS_MISSING  |reservationVolume is missing - required
        when paymentAccount not null and postponeReservation=false|

        | APPINSERTEDBY_IS_MISSING  |appInsertedBy is missing - required|
        
        | VALIDFROM_WRONG_DATE_FORMAT |validFrom must be in the fromat
        YYYY-MM-DD HH:MM:SS or empty|

        | VALIDTO_WRONG_DATE_FORMAT |validTo must be in the fromat YYYY-MM-DD|

        | SETTLDATE_WRONG_DATE_FORMAT |settlDate must be in the fromat
        YYYY-MM-DD|

        | PLACEDBYID_WRONG_FORMAT |placedById must be integer|

        | RECEIVINGTRADERID_WRONG_FORMAT |receivingTraderId must be integer|

        | PORTFOLIOID_WRONG_FORMAT |portfolioId must be integer|

        | INSTRUMENTID_WRONG_FORMAT |instrumentId must be integer|

        | INSTRUMENTDESTID_WRONG_FORMAT |instrumentDestId must be integer|

        | TRADINGVENUEID_WRONG_FORMAT |tradingVenueId must be integer|

        | FXRATEQUANTITY_WRONG_FORMAT |fxRateQuantity must be integer|

        | TOPBROKER1ID_WRONG_FORMAT |topBroker1Id must be integer|

        | TOPBROKER2ID_WRONG_FORMAT |topBroker2Id must be integer|

        | TOPBROKER3ID_WRONG_FORMAT |topBroker3Id must be integer|

        | ATASUBSTITUTEID_WRONG_FORMAT |ataSubstituteId must be integer|

        | ATAAGENTID_WRONG_FORMAT |ataAgentId must be integer|

        | ISPLACEDBYBROKER_WRONG_FORMAT |isPlacedByBroker must be boolean|

        | AUCTIONONLY_WRONG_FORMAT |auctionOnly must be boolean|

        | ISPARENT_WRONG_FORMAT |isParent must be boolean|

        | POSTPONERESERVATION_WRONG_FORMAT |postponeReservation must be boolean|

        | FXRATEISINVERSE_WRONG_FORMAT |fxRateIsInverse must be boolean|

        | TOREJECT_WRONG_FORMAT |toReject must be boolean|

        | VOLUME_WRONG_FORMAT |volume must be number|

        | QUANTITY_WRONG_FORMAT |quantity must be number|

        | MINQUANTITY_WRONG_FORMAT |minQuantity must be number|

        | ICEBERGQUANTITY_WRONG_FORMAT |icebergQuantity must be number|

        | LIMITPRICE_WRONG_FORMAT |limitPrice must be number|

        | SENDQUANTITY_WRONG_FORMAT |sendQuantity must be number|

        | SENDLIMITPRICE_WRONG_FORMAT |sendLimitPrice must be number|

        | STOPPRICE_WRONG_FORMAT |stopPrice must be number|

        | RESERVATIONVOLUME_WRONG_FORMAT |reservationVolume must be number|

        | MARKETPRICE_WRONG_FORMAT |marketPrice must be number|

        | TRADINGVOLUME_WRONG_FORMAT |tradingVolume must be number|

        | UNITAI_WRONG_FORMAT |unitAi must be number|

        | VOLUMEAI_WRONG_FORMAT |volumeAi must be number|

        | BASKETDISCOUNT_WRONG_FORMAT |basketDiscount must be number|

        | BROKERFEE_WRONG_FORMAT |brokerFee must be number|

        | TRADERFEE_WRONG_FORMAT |traderFee must be number|

        | SERVICEFEE_WRONG_FORMAT |serviceFee must be number|

        | TAX_WRONG_FORMAT |tax must be number|

        | COUNTERPARTYFEEVOLUME_WRONG_FORMAT |counterpartyFeeVolume must be
        number|

        | COUNTERPARTYFEEPCT_WRONG_FORMAT |counterpartyFeePct must be number|

        | FXRATE_WRONG_FORMAT |fxRate must be number|
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/response400'
    400BadRequest-withdrawalPaymentValidation:
      description: >
        Bad Request


        Seznam možných chyb:

        | errCode                  |
        errTitle                                             |

        |------------------------|----------------------------------------------------|

        | PAYMENTID_IS_MISSING   | paymentId is missing -
        required                    |

        | CLIENTID_IS_MISSING    | clientId is missing -
        required                     |

        | ACCOUNTID_IS_MISSING   | accountId is missing -
        required                    |

        | TRADEDATE_IS_MISSING   | tradeDate is missing -
        required                    |

        | AMOUNT_IS_MISSING      | amount is missing -
        required                       |

        | TRADEDATE_WRONG_FORMAT | tradeDate is in wrong format -
        YYYY-MM-DD          |
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/response400'
    403Forbidden:
      description: >
        Forbidden


        Seznam možných chyb


        | errCode                        | errTitle                         |

        |------------------------------|--------------------------------|

        | PLACEDBYID_INSUFFICIENT_RIGHTS|placedById does not have rights to
        place order|
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/response400'
    404NotFound-accountBalances:
      description: >
        Not Found

        Seznam možných chyb

        | errCode                        | errTitle                         |

        |------------------------------|--------------------------------|

        | CRMIDOWNER_NOT_FOUND         |No Portfolio Owner Person found for crmIdOwner|

        | PORTFOLIOID_NOT_FOUND        |Portfolio was not found for the specified portfolioId.|
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/response400'
    404NotFound-order:
      description: |
        Forbidden

        Seznam možných chyb

        | errCode                        | errTitle                         |
        |------------------------------|--------------------------------|
        | PLACEDBYID_NOT_FOUND        |placedById not found|
        | SUBMITTERCRMID_NOT_FOUND        |submitterCrmId not found|
        | RECEIVINGTRADERID_NOT_FOUND       |receivingTraderId not found|
        | RECEIVINGTRADERDOMAINNAME_NOT_FOUND        |receivingTraderDomainName not found|
        | PORTFOLIOID_NOT_FOUND     |portfolioId not found|
        | TOPPORTFOLIOID_NOT_FOUND        |topPortfolioId not found|
        | PLACEDBYID_NOT_FOUND    |placedById not found|
        | INSTRUMENTID_NOT_FOUND    |instrumentId not found|
        | INSTRUMENTDESTID_NOT_FOUND    |placedById not found|
        | TRADINGVENUEID_NOT_FOUND    |tradingVenueId not found|
        | CURRENCY_NOT_FOUND    |currency not found|
        | PAYCURRENCY_NOT_FOUND   |topIdProduct not found|
        | TOPIDEXECMETHOD_NOT_FOUND   |topIdExecMethod not found|
        | COMMUNICATIONCHANNEL_NOT_FOUND    |communicationChannel not found|
        | PAYMENTACCOUNTID_NOT_FOUND    |paymentAccountId not found|
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/response400'
    404NotFound-withdrawalPaymentValidation:
      description: >
        Not Found


        Seznam možných chyb:

        | errCode                  |
        errTitle                                             |

        |------------------------|----------------------------------------------------|

        | CLIENT_NOT_FOUND       | clientId not
        found                                 |

        | ACCOUNT_NOT_FOUND      | accountId not
        found                                |
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/response400'
    422UnprocessableEntity-accountBalances:
      description: >
        Unprocessable Entity


        Seznam možných chyb


        | errCode                         | errTitle                         |

        |-------------------------------|--------------------------------|

        | CRMIDOWNER_WRONG_FORMAT |crmIdOwner is in wrong format - length 10,
        only numbers|

        | REPORTCURRENCY_NOT_VALID   |Value of the reportCurrency attribute is
        invalid. Valid values are CZK, EUR and USD.|

        | DB_ERROR                      |DB exception: <exception text>|
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/response400'
    422UnprocessableEntity-order:
      description: |
        Forbidden

        Seznam možných chyb

        | errCode                        | errTitle                         |
        |------------------------------|--------------------------------|
        | SIDE_ENUM_ERROR|<value> not one of enum values|
        | QUANTITYMODE_ENUM_ERROR|<value> not one of enum values|
        | TIMEINFORCE_ENUM_ERROR|<value> not one of enum values|
        | PRICEMODE_ENUM_ERROR|<value> not one of enum values|
        | LIMITPRICETYPE_ENUM_ERROR|<value> not one of enum values|
        | SENDLIMITPRICETYPE_ENUM_ERROR|<value> not one of enum values|
        | PROCESSINGMODE_ENUM_ERROR|<value> not one of enum values|
        | PREFACCOUNTDEPOSITORY_ENUM_ERROR|<value> not one of enum values|
        | APPINSERTEDBY_ENUM_ERROR|<value> not one of enum values|
        | DB_ERROR|DB exception: <exception text>|
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/response400'
    422UnprocessableEntity-withdrawalPaymentValidation:
      description: >
        Unprocessable Entity


        Seznam možných chyb:

        | errCode                  |
        errTitle                                             |

        |------------------------|----------------------------------------------------|

        | CHNG_VAL_NOT_SUPP      | Change validation of a valid Payment not
        supported |
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/response400'
    500InternalServerError-general:
      description: >
        Internal Server Error

        Seznam možných chyb:

        | errCode                        | errTitle                         |

        |------------------------------|--------------------------------|

        |ERROR                       |Unexpected error: \<Technical Details\>|
        
        |SYS_ERROR                        |Unexpected error: \<Technical Details\>|
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/response500'
    503ServiceUnavailable-general:
      description: |
        Internal Server Error

        Seznam možných chyb:

        | errCode                        | errTitle                         |
        |------------------------------|--------------------------------|
        | DB_UNAVAILABLE               |Unable to connect to DB server|
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/response500'
