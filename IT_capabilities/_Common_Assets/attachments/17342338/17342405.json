{
  "title": "Deposit",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Term deposit + NWL",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "depositId",
	"depositAccountNumber",
	"depositAccountBankCode",
	"depositAccountBicCode",
	"depositAccountIban",
    "status",
	"depositType",
	"actualBalance",
	"currency",
	"interestCreditMethod"
	"interestFrequency",
	"interestRate",
	"startDate",
	"principalPayoffAccountId",
	"principalPayoffAccount",
	"interestPayoffAccountId",
	"interestPayofffAccount",
	"owner"
  ],
 	"properties": {
		"depositId": {
			"title": "Account Id",
			"description": "Unique identification of deposit in bank system.",
			"type": "string"
		},
		
		"accountKind": {
			"title": "Account kind",
			"description": "Account kind",
			"type": "string",
			"enum": [
				"CUA",
				"CCR",
				"LOA"
			]
		},
		"eventTimestamp": {
			"title": "Event timestamp",
			"description": "Date and time of inserting into event table in BISQ",
			"type": "string",
			"format": "date-time"
		},
		"status": {
			"title": "Account status",
			"description": "Account status",
			"type": "string",
			"enum": [
				"A",
				"C",
				"OO",
				"OB",
				"OC",
				"OD"
			]
		},
		"depositAccountNumber": {
			"type": "string",
			"title": "Account number of the related deposit account"
		},	
		"depositAccountBankCode": {
			"type": "string",
			"title": "Bank code of deposit account."
		},
		"depositAccountBicCode": {
			"type": "string",
			"title": "BIC code of deposit account (necessary for QR code)"		
		},		
		"depositAccountIban": {
			"type": "string",
			"maxlength": 34,
			"title": "IBAN of deposit account (necessary for QR code)"
		},
		"depositType": {
			"type": "string",
			"title": "Bank categorization of term deposits"
		},
		"actualBalance": {
			"type": "number",
			"title": "Actual balance",
		},
		"currency": {
			"type": "string",
			"title": "Currency."
		},
		"interestCreditMethod": {
			"type": "string",
			"title": "Whether interest is added to deposit account or other account"
		},
		"interestFrequency": {
			"type": "string",
			"title": "How often the interest is accrued"
		},
		"interestRate": {
			"type": "number",
			"title": "Deposit rate - interest rate"
		},
		"startDate": {
			"type": "string",
			"title": "Date of the product creation"
		},
		"principalPayoffAccountId": {
			"type": "string",
			"title": "Identification of ourrent account which is used like receving account for principal payments from deposit account. Can be used to display account name. It can be used only if the account is within the bank and bank is able to provide account identification."
		},
		"PrincipalPayoffAccount": {
			"type": "string",
			"title": "Prefix of ourrent account which is used like receving account for principal payments from deposit account(full account number - BBAN or IBAN for foreign accounts)"
		},
		"interestPayoffAccountId": {
			"type": "string",
			"title": "Identification of ourrent account which is used like receving account for interest payments from deposit account. Can be used to display account name. It can be used only if the account is within the bank and bank is able to provide account identification."
		},
		"interestPayoffAccount": {
			"type": "string",
			"title": "Prefix of current account which is used like receving account for interest from deposit account (full account number - BBAN or IBAN for foreign accounts)"
		},
		 "owner":{
         "$ref": "#/definitions/owner"
        },
	    "termDepositSpecific":{
         "$ref": "#/definitions/termDepositSpecific"
         },
	    "nwbSpecific":{
         "$ref": "#/definitions/nwbSpecific"
      }
	}
	 "definitions": {
    "owner": {
      "type": "object",
      "required": [
        "partyId",
        "partyType",
        "partyIdentificationNumber",
		"partyFullName"
      ],
      "properties": {
       "partyId": {
			"type": "string",
			"title": "Unique party ID"
		},
		"partyType": {
			"type": "string",
			"title": "Party type"
		},
		"partyIdentificationNumber": {
			"type": "string",
			"title": "Party identification"
		},
		"partyFullName": {
			"type": "string",
			"title": "Full name of party"
		}
		
		}}
		
	    "termDepositSpecific": {
      "type": "object",
      "required": [
        "initialAmount",
        "termDuration"
      ],
      "properties": {
       "initialAmount": {
			"type": "string",
			"title": "Initial amount of deposit"
		},
		"termDuration": {
			"type": "string",
			"title": "Period of the deposit duration; for revolving deposits the deposit is renewed after this period. Value consists of integer + period code (D, M or Y)"
		},
		"prolongation": {
			"type": "string",
			"title": "Can be manual (M) or automatic (A). Indicates whether deposit should automatically be renewed at the end of the period (automatic prolongation means it is revolving period)"
		},
		"maturityDate": {
			"type": "string",
			"title": "Maturity date of deposit"
		},
		"signalDate": {
			"type": "string",
			"title": "Date until client can cancel automatic prolongation"
		}
		
		}}

    "nwbSpecific": {
      "type": "object",

      "properties": {
       "noticePeriod": {
			"type": "string",
			"title": "notice period"
		},
		"numberOfTerminations": {
			"type": "string",
			"title": "How many terminations exist for the deposit"
		},
		"totalAmountOfTerminations": {
			"type": "string",
			"title": "Total amount of all terminations for the deposit"
		}
		
		}}		
		
		
		
		
		
		}
	
}